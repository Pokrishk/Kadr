Сервис продажи билетов на офлайн‑события. Приложение построено на Spring Boot и использует PostgreSQL для хранения данных.

## Как запустить

### Локально
1. Установите JDK 17 и Docker (для PostgreSQL можно использовать локальный сервер или контейнер).
2. Создайте базу данных `Kadr` и пользователя `postgres` с паролем `1` либо измените значения в `src/main/resources/application.properties`.
3. Соберите зависимости и запустите приложение:
   ```bash
   ./mvnw spring-boot:run
   ```
4. Приложение будет доступно на `http://localhost:8080`.

### В контейнерах
1. Убедитесь, что установлен Docker и Docker Compose.
2. Поднимите сервисы базы данных и приложения:
   ```bash
   docker-compose up --build
   ```
3. База данных стартует с учётными данными `postgres/1`; приложение автоматически подключится к сервису `db` и станет доступно на `http://localhost:8080`.

## Архитектура
- **Spring Boot + MVC**: основная точка входа `KadrApplication` и слои контроллеров, сервисов и репозиториев.
- **Веб‑контроллеры** (`controller`): отвечают за HTML‑страницы каталога событий, корзины, профиля, заявок организаторов и административных экранов.
- **REST API** (`controller/api`): типовые CRUD‑контроллеры для доменных сущностей (пользователи, события, билеты, корзина, заказы, логи), возвращающие JSON.
- **Сервисный слой** (`service`): инкапсулирует бизнес‑логику (аутентификация, управление событиями и организаторами, корзина, аудит действий, настройки пользователя).
- **Доступ к данным** (`repository`): интерфейсы Spring Data JPA для работы с PostgreSQL.
- **Доменная модель** (`model`): сущности пользователей, ролей, событий, билетов, заказов, логов действий и пользовательских настроек.
- **Безопасность** (`config/WebSecurityConfig`): форма входа, CSRF, разграничение доступа по ролям и настройка источника пользователей.

## Роли и доступ
- **User**: регистрация и авторизация, просмотр событий, покупка билетов, управление корзиной и заказами, создание отзывов.
- **Organizer**: доступ к панели организатора (`/organizer/**`) для управления собственными событиями и просмотра статистики.
- **Admin**: административная панель (`/admin/**`) для управления пользователями, ролями и журналами действий.

По умолчанию регистрация выдаёт роль `User`; роли `Organizer` и `Admin` назначаются вручную через административный интерфейс или напрямую в базе данных.