<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head><meta charset="UTF-8"></head>
<body>
<th:block th:fragment="siteHeader">
    <header>
        <div class="wrap header-row">
            <div class="brand">
                <div class="logo" th:style="|background-image: url('@{/images/лого.png}')|"></div>
                <h1>Кадр — интернет-афиша</h1>
            </div>

            <nav class="nav-left">
                <a th:href="@{/}">Главная</a>
                <a th:href="@{/events}">События</a>
                <a th:href="@{/organizers}">Организаторы</a>
                <a th:href="@{/about}">О проекте</a>
            </nav>

            <nav class="nav-right">
                <a sec:authorize="isAnonymous()" th:href="@{/login}">Войти</a>
                <a sec:authorize="isAnonymous()" th:href="@{/register}">Регистрация</a>

                <span sec:authorize="isAuthenticated()" class="chip"
                      sec:authentication="name" title="Вы вошли как"></span>
                <a sec:authorize="isAuthenticated()" th:href="@{/profile}">Профиль</a>
                <a sec:authorize="isAuthenticated()" th:href="@{/cart}">Корзина</a>
                <a sec:authorize="isAuthenticated()" th:href="@{/orders}">Мои заказы</a>

                <a sec:authorize="hasAnyRole('ORGANIZER')" th:href="@{/organizer/panel}">Панель организатора</a>
                <a sec:authorize="hasRole('ADMIN')" th:href="@{/admin}">Админ-панель</a>

                <form sec:authorize="isAuthenticated()" th:action="@{/logout}" method="post" class="logout-inline">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button class="link">Выйти</button>
                </form>
            </nav>
        </div>
    </header>
    <script th:inline="javascript">
        window.__userSettings = /*[[${userSettingsView}]]*/ null;
        window.__userFontStacks = /*[[${userFontStacks}]]*/ {};
    </script>
    <script defer th:src="@{/js/hotkeys.js}"></script>
    <script defer th:src="@{/js/user-settings.js}"></script>
</th:block>
</body>
</html>
